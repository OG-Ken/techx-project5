{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useCallback } from 'react';\nimport warning from \"rc-util/es/warning\";\nimport { nextSlice } from '../utils/timeUtil';\nvar PATH_SPLIT = '__RC_UTIL_PATH_SPLIT__';\n\nvar getPathStr = function getPathStr(keyPath) {\n  return keyPath.join(PATH_SPLIT);\n};\n\nvar getPathKeys = function getPathKeys(keyPathStr) {\n  return keyPathStr.split(PATH_SPLIT);\n};\n\nexport var OVERFLOW_KEY = 'rc-menu-more';\nexport default function useKeyRecords() {\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      internalForceUpdate = _React$useState2[1];\n\n  var key2pathRef = useRef(new Map());\n  var path2keyRef = useRef(new Map());\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      overflowKeys = _React$useState4[0],\n      setOverflowKeys = _React$useState4[1];\n\n  var updateRef = useRef(0);\n  var destroyRef = useRef(false);\n\n  var forceUpdate = function forceUpdate() {\n    if (!destroyRef.current) {\n      internalForceUpdate({});\n    }\n  };\n\n  var registerPath = useCallback(function (key, keyPath) {\n    // Warning for invalidate or duplicated `key`\n    if (process.env.NODE_ENV !== 'production') {\n      warning(!key2pathRef.current.has(key), \"Duplicated key '\".concat(key, \"' used in Menu by path [\").concat(keyPath.join(' > '), \"]\"));\n    } // Fill map\n\n\n    var connectedPath = getPathStr(keyPath);\n    path2keyRef.current.set(connectedPath, key);\n    key2pathRef.current.set(key, connectedPath);\n    updateRef.current += 1;\n    var id = updateRef.current;\n    nextSlice(function () {\n      if (id === updateRef.current) {\n        forceUpdate();\n      }\n    });\n  }, []);\n  var unregisterPath = useCallback(function (key, keyPath) {\n    var connectedPath = getPathStr(keyPath);\n    path2keyRef.current.delete(connectedPath);\n    key2pathRef.current.delete(key);\n  }, []);\n  var refreshOverflowKeys = useCallback(function (keys) {\n    setOverflowKeys(keys);\n  }, []);\n  var getKeyPath = useCallback(function (eventKey, includeOverflow) {\n    var fullPath = key2pathRef.current.get(eventKey) || '';\n    var keys = getPathKeys(fullPath);\n\n    if (includeOverflow && overflowKeys.includes(keys[0])) {\n      keys.unshift(OVERFLOW_KEY);\n    }\n\n    return keys;\n  }, [overflowKeys]);\n  var isSubPathKey = useCallback(function (pathKeys, eventKey) {\n    return pathKeys.some(function (pathKey) {\n      var pathKeyList = getKeyPath(pathKey, true);\n      return pathKeyList.includes(eventKey);\n    });\n  }, [getKeyPath]);\n\n  var getKeys = function getKeys() {\n    var keys = _toConsumableArray(key2pathRef.current.keys());\n\n    if (overflowKeys.length) {\n      keys.push(OVERFLOW_KEY);\n    }\n\n    return keys;\n  };\n  /**\n   * Find current key related child path keys\n   */\n\n\n  var getSubPathKeys = useCallback(function (key) {\n    var connectedPath = \"\".concat(key2pathRef.current.get(key)).concat(PATH_SPLIT);\n    var pathKeys = new Set();\n\n    _toConsumableArray(path2keyRef.current.keys()).forEach(function (pathKey) {\n      if (pathKey.startsWith(connectedPath)) {\n        pathKeys.add(path2keyRef.current.get(pathKey));\n      }\n    });\n\n    return pathKeys;\n  }, []);\n  React.useEffect(function () {\n    return function () {\n      destroyRef.current = true;\n    };\n  }, []);\n  return {\n    // Register\n    registerPath: registerPath,\n    unregisterPath: unregisterPath,\n    refreshOverflowKeys: refreshOverflowKeys,\n    // Util\n    isSubPathKey: isSubPathKey,\n    getKeyPath: getKeyPath,\n    getKeys: getKeys,\n    getSubPathKeys: getSubPathKeys\n  };\n}","map":{"version":3,"names":["_toConsumableArray","_slicedToArray","React","useRef","useCallback","warning","nextSlice","PATH_SPLIT","getPathStr","keyPath","join","getPathKeys","keyPathStr","split","OVERFLOW_KEY","useKeyRecords","_React$useState","useState","_React$useState2","internalForceUpdate","key2pathRef","Map","path2keyRef","_React$useState3","_React$useState4","overflowKeys","setOverflowKeys","updateRef","destroyRef","forceUpdate","current","registerPath","key","process","env","NODE_ENV","has","concat","connectedPath","set","id","unregisterPath","delete","refreshOverflowKeys","keys","getKeyPath","eventKey","includeOverflow","fullPath","get","includes","unshift","isSubPathKey","pathKeys","some","pathKey","pathKeyList","getKeys","length","push","getSubPathKeys","Set","forEach","startsWith","add","useEffect"],"sources":["C:/Users/kmath/Documents/Booz/nachoProblem/techx-project5/reactApp/savewaste/node_modules/rc-menu/es/hooks/useKeyRecords.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useCallback } from 'react';\nimport warning from \"rc-util/es/warning\";\nimport { nextSlice } from '../utils/timeUtil';\nvar PATH_SPLIT = '__RC_UTIL_PATH_SPLIT__';\n\nvar getPathStr = function getPathStr(keyPath) {\n  return keyPath.join(PATH_SPLIT);\n};\n\nvar getPathKeys = function getPathKeys(keyPathStr) {\n  return keyPathStr.split(PATH_SPLIT);\n};\n\nexport var OVERFLOW_KEY = 'rc-menu-more';\nexport default function useKeyRecords() {\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      internalForceUpdate = _React$useState2[1];\n\n  var key2pathRef = useRef(new Map());\n  var path2keyRef = useRef(new Map());\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      overflowKeys = _React$useState4[0],\n      setOverflowKeys = _React$useState4[1];\n\n  var updateRef = useRef(0);\n  var destroyRef = useRef(false);\n\n  var forceUpdate = function forceUpdate() {\n    if (!destroyRef.current) {\n      internalForceUpdate({});\n    }\n  };\n\n  var registerPath = useCallback(function (key, keyPath) {\n    // Warning for invalidate or duplicated `key`\n    if (process.env.NODE_ENV !== 'production') {\n      warning(!key2pathRef.current.has(key), \"Duplicated key '\".concat(key, \"' used in Menu by path [\").concat(keyPath.join(' > '), \"]\"));\n    } // Fill map\n\n\n    var connectedPath = getPathStr(keyPath);\n    path2keyRef.current.set(connectedPath, key);\n    key2pathRef.current.set(key, connectedPath);\n    updateRef.current += 1;\n    var id = updateRef.current;\n    nextSlice(function () {\n      if (id === updateRef.current) {\n        forceUpdate();\n      }\n    });\n  }, []);\n  var unregisterPath = useCallback(function (key, keyPath) {\n    var connectedPath = getPathStr(keyPath);\n    path2keyRef.current.delete(connectedPath);\n    key2pathRef.current.delete(key);\n  }, []);\n  var refreshOverflowKeys = useCallback(function (keys) {\n    setOverflowKeys(keys);\n  }, []);\n  var getKeyPath = useCallback(function (eventKey, includeOverflow) {\n    var fullPath = key2pathRef.current.get(eventKey) || '';\n    var keys = getPathKeys(fullPath);\n\n    if (includeOverflow && overflowKeys.includes(keys[0])) {\n      keys.unshift(OVERFLOW_KEY);\n    }\n\n    return keys;\n  }, [overflowKeys]);\n  var isSubPathKey = useCallback(function (pathKeys, eventKey) {\n    return pathKeys.some(function (pathKey) {\n      var pathKeyList = getKeyPath(pathKey, true);\n      return pathKeyList.includes(eventKey);\n    });\n  }, [getKeyPath]);\n\n  var getKeys = function getKeys() {\n    var keys = _toConsumableArray(key2pathRef.current.keys());\n\n    if (overflowKeys.length) {\n      keys.push(OVERFLOW_KEY);\n    }\n\n    return keys;\n  };\n  /**\n   * Find current key related child path keys\n   */\n\n\n  var getSubPathKeys = useCallback(function (key) {\n    var connectedPath = \"\".concat(key2pathRef.current.get(key)).concat(PATH_SPLIT);\n    var pathKeys = new Set();\n\n    _toConsumableArray(path2keyRef.current.keys()).forEach(function (pathKey) {\n      if (pathKey.startsWith(connectedPath)) {\n        pathKeys.add(path2keyRef.current.get(pathKey));\n      }\n    });\n\n    return pathKeys;\n  }, []);\n  React.useEffect(function () {\n    return function () {\n      destroyRef.current = true;\n    };\n  }, []);\n  return {\n    // Register\n    registerPath: registerPath,\n    unregisterPath: unregisterPath,\n    refreshOverflowKeys: refreshOverflowKeys,\n    // Util\n    isSubPathKey: isSubPathKey,\n    getKeyPath: getKeyPath,\n    getKeys: getKeys,\n    getSubPathKeys: getSubPathKeys\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}