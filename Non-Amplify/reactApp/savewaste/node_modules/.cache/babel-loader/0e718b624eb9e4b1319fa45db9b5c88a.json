{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useRef } from 'react';\nimport raf from \"rc-util/es/raf\";\nimport useState from \"rc-util/es/hooks/useState\";\nvar StatusQueue = ['measure', 'alignPre', 'align', null, 'motion'];\nexport default (function (visible, doMeasure) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      status = _useState2[0],\n      setInternalStatus = _useState2[1];\n\n  var rafRef = useRef();\n\n  function setStatus(nextStatus) {\n    setInternalStatus(nextStatus, true);\n  }\n\n  function cancelRaf() {\n    raf.cancel(rafRef.current);\n  }\n\n  function goNextStatus(callback) {\n    cancelRaf();\n    rafRef.current = raf(function () {\n      // Only align should be manually trigger\n      setStatus(function (prev) {\n        switch (status) {\n          case 'align':\n            return 'motion';\n\n          case 'motion':\n            return 'stable';\n\n          default:\n        }\n\n        return prev;\n      });\n      callback === null || callback === void 0 ? void 0 : callback();\n    });\n  } // Init status\n\n\n  useEffect(function () {\n    setStatus('measure');\n  }, [visible]); // Go next status\n\n  useEffect(function () {\n    switch (status) {\n      case 'measure':\n        doMeasure();\n        break;\n\n      default:\n    }\n\n    if (status) {\n      rafRef.current = raf( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var index, nextStatus;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                index = StatusQueue.indexOf(status);\n                nextStatus = StatusQueue[index + 1];\n\n                if (nextStatus && index !== -1) {\n                  setStatus(nextStatus);\n                }\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })));\n    }\n  }, [status]);\n  useEffect(function () {\n    return function () {\n      cancelRaf();\n    };\n  }, []);\n  return [status, goNextStatus];\n});","map":{"version":3,"names":["_regeneratorRuntime","_asyncToGenerator","_slicedToArray","useEffect","useRef","raf","useState","StatusQueue","visible","doMeasure","_useState","_useState2","status","setInternalStatus","rafRef","setStatus","nextStatus","cancelRaf","cancel","current","goNextStatus","callback","prev","mark","_callee","index","wrap","_callee$","_context","next","indexOf","stop"],"sources":["C:/Users/kmath/Documents/Booz/nachoProblem/techx-project5/reactApp/savewaste/node_modules/rc-trigger/es/Popup/useVisibleStatus.js"],"sourcesContent":["import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useRef } from 'react';\nimport raf from \"rc-util/es/raf\";\nimport useState from \"rc-util/es/hooks/useState\";\nvar StatusQueue = ['measure', 'alignPre', 'align', null, 'motion'];\nexport default (function (visible, doMeasure) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      status = _useState2[0],\n      setInternalStatus = _useState2[1];\n\n  var rafRef = useRef();\n\n  function setStatus(nextStatus) {\n    setInternalStatus(nextStatus, true);\n  }\n\n  function cancelRaf() {\n    raf.cancel(rafRef.current);\n  }\n\n  function goNextStatus(callback) {\n    cancelRaf();\n    rafRef.current = raf(function () {\n      // Only align should be manually trigger\n      setStatus(function (prev) {\n        switch (status) {\n          case 'align':\n            return 'motion';\n\n          case 'motion':\n            return 'stable';\n\n          default:\n        }\n\n        return prev;\n      });\n      callback === null || callback === void 0 ? void 0 : callback();\n    });\n  } // Init status\n\n\n  useEffect(function () {\n    setStatus('measure');\n  }, [visible]); // Go next status\n\n  useEffect(function () {\n    switch (status) {\n      case 'measure':\n        doMeasure();\n        break;\n\n      default:\n    }\n\n    if (status) {\n      rafRef.current = raf( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var index, nextStatus;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                index = StatusQueue.indexOf(status);\n                nextStatus = StatusQueue[index + 1];\n\n                if (nextStatus && index !== -1) {\n                  setStatus(nextStatus);\n                }\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })));\n    }\n  }, [status]);\n  useEffect(function () {\n    return function () {\n      cancelRaf();\n    };\n  }, []);\n  return [status, goNextStatus];\n});"],"mappings":"AAAA,OAAOA,mBAAP,MAAgC,+CAAhC;AACA,OAAOC,iBAAP,MAA8B,6CAA9B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,SAASC,SAAT,EAAoBC,MAApB,QAAkC,OAAlC;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,IAAIC,WAAW,GAAG,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,IAAjC,EAAuC,QAAvC,CAAlB;AACA,gBAAgB,UAAUC,OAAV,EAAmBC,SAAnB,EAA8B;EAC5C,IAAIC,SAAS,GAAGJ,QAAQ,CAAC,IAAD,CAAxB;EAAA,IACIK,UAAU,GAAGT,cAAc,CAACQ,SAAD,EAAY,CAAZ,CAD/B;EAAA,IAEIE,MAAM,GAAGD,UAAU,CAAC,CAAD,CAFvB;EAAA,IAGIE,iBAAiB,GAAGF,UAAU,CAAC,CAAD,CAHlC;;EAKA,IAAIG,MAAM,GAAGV,MAAM,EAAnB;;EAEA,SAASW,SAAT,CAAmBC,UAAnB,EAA+B;IAC7BH,iBAAiB,CAACG,UAAD,EAAa,IAAb,CAAjB;EACD;;EAED,SAASC,SAAT,GAAqB;IACnBZ,GAAG,CAACa,MAAJ,CAAWJ,MAAM,CAACK,OAAlB;EACD;;EAED,SAASC,YAAT,CAAsBC,QAAtB,EAAgC;IAC9BJ,SAAS;IACTH,MAAM,CAACK,OAAP,GAAiBd,GAAG,CAAC,YAAY;MAC/B;MACAU,SAAS,CAAC,UAAUO,IAAV,EAAgB;QACxB,QAAQV,MAAR;UACE,KAAK,OAAL;YACE,OAAO,QAAP;;UAEF,KAAK,QAAL;YACE,OAAO,QAAP;;UAEF;QAPF;;QAUA,OAAOU,IAAP;MACD,CAZQ,CAAT;MAaAD,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAK,KAAK,CAAvC,GAA2C,KAAK,CAAhD,GAAoDA,QAAQ,EAA5D;IACD,CAhBmB,CAApB;EAiBD,CAnC2C,CAmC1C;;;EAGFlB,SAAS,CAAC,YAAY;IACpBY,SAAS,CAAC,SAAD,CAAT;EACD,CAFQ,EAEN,CAACP,OAAD,CAFM,CAAT,CAtC4C,CAwC7B;;EAEfL,SAAS,CAAC,YAAY;IACpB,QAAQS,MAAR;MACE,KAAK,SAAL;QACEH,SAAS;QACT;;MAEF;IALF;;IAQA,IAAIG,MAAJ,EAAY;MACVE,MAAM,CAACK,OAAP,GAAiBd,GAAG,EAAE,aAAaJ,iBAAiB,EAAE,aAAaD,mBAAmB,GAAGuB,IAAtB,CAA2B,SAASC,OAAT,GAAmB;QAC/G,IAAIC,KAAJ,EAAWT,UAAX;QACA,OAAOhB,mBAAmB,GAAG0B,IAAtB,CAA2B,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;UAC5D,OAAO,CAAP,EAAU;YACR,QAAQA,QAAQ,CAACN,IAAT,GAAgBM,QAAQ,CAACC,IAAjC;cACE,KAAK,CAAL;gBACEJ,KAAK,GAAGlB,WAAW,CAACuB,OAAZ,CAAoBlB,MAApB,CAAR;gBACAI,UAAU,GAAGT,WAAW,CAACkB,KAAK,GAAG,CAAT,CAAxB;;gBAEA,IAAIT,UAAU,IAAIS,KAAK,KAAK,CAAC,CAA7B,EAAgC;kBAC9BV,SAAS,CAACC,UAAD,CAAT;gBACD;;cAEH,KAAK,CAAL;cACA,KAAK,KAAL;gBACE,OAAOY,QAAQ,CAACG,IAAT,EAAP;YAXJ;UAaD;QACF,CAhBM,EAgBJP,OAhBI,CAAP;MAiBD,CAnBkE,CAAf,CAAhC,CAApB;IAoBD;EACF,CA/BQ,EA+BN,CAACZ,MAAD,CA/BM,CAAT;EAgCAT,SAAS,CAAC,YAAY;IACpB,OAAO,YAAY;MACjBc,SAAS;IACV,CAFD;EAGD,CAJQ,EAIN,EAJM,CAAT;EAKA,OAAO,CAACL,MAAD,EAASQ,YAAT,CAAP;AACD,CAhFD"},"metadata":{},"sourceType":"module"}