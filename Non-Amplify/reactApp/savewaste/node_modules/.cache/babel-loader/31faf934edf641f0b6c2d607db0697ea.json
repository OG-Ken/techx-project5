{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useState from \"rc-util/es/hooks/useState\";\nimport { STEP_PREPARE, STEP_ACTIVE, STEP_START, STEP_ACTIVATED, STEP_NONE } from '../interface';\nimport useNextFrame from './useNextFrame';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nvar STEP_QUEUE = [STEP_PREPARE, STEP_START, STEP_ACTIVE, STEP_ACTIVATED];\n/** Skip current step */\n\nexport var SkipStep = false;\n/** Current step should be update in */\n\nexport var DoStep = true;\nexport function isActive(step) {\n  return step === STEP_ACTIVE || step === STEP_ACTIVATED;\n}\nexport default (function (status, callback) {\n  var _useState = useState(STEP_NONE),\n      _useState2 = _slicedToArray(_useState, 2),\n      step = _useState2[0],\n      setStep = _useState2[1];\n\n  var _useNextFrame = useNextFrame(),\n      _useNextFrame2 = _slicedToArray(_useNextFrame, 2),\n      nextFrame = _useNextFrame2[0],\n      cancelNextFrame = _useNextFrame2[1];\n\n  function startQueue() {\n    setStep(STEP_PREPARE, true);\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    if (step !== STEP_NONE && step !== STEP_ACTIVATED) {\n      var index = STEP_QUEUE.indexOf(step);\n      var nextStep = STEP_QUEUE[index + 1];\n      var result = callback(step);\n\n      if (result === SkipStep) {\n        // Skip when no needed\n        setStep(nextStep, true);\n      } else {\n        // Do as frame for step update\n        nextFrame(function (info) {\n          function doNext() {\n            // Skip since current queue is ood\n            if (info.isCanceled()) return;\n            setStep(nextStep, true);\n          }\n\n          if (result === true) {\n            doNext();\n          } else {\n            // Only promise should be async\n            Promise.resolve(result).then(doNext);\n          }\n        });\n      }\n    }\n  }, [status, step]);\n  React.useEffect(function () {\n    return function () {\n      cancelNextFrame();\n    };\n  }, []);\n  return [startQueue, step];\n});","map":{"version":3,"names":["_slicedToArray","React","useState","STEP_PREPARE","STEP_ACTIVE","STEP_START","STEP_ACTIVATED","STEP_NONE","useNextFrame","useIsomorphicLayoutEffect","STEP_QUEUE","SkipStep","DoStep","isActive","step","status","callback","_useState","_useState2","setStep","_useNextFrame","_useNextFrame2","nextFrame","cancelNextFrame","startQueue","index","indexOf","nextStep","result","info","doNext","isCanceled","Promise","resolve","then","useEffect"],"sources":["C:/Users/kmath/Documents/Booz/nachoProblem/techx-project5/reactApp/savewaste/node_modules/rc-motion/es/hooks/useStepQueue.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useState from \"rc-util/es/hooks/useState\";\nimport { STEP_PREPARE, STEP_ACTIVE, STEP_START, STEP_ACTIVATED, STEP_NONE } from '../interface';\nimport useNextFrame from './useNextFrame';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nvar STEP_QUEUE = [STEP_PREPARE, STEP_START, STEP_ACTIVE, STEP_ACTIVATED];\n/** Skip current step */\n\nexport var SkipStep = false;\n/** Current step should be update in */\n\nexport var DoStep = true;\nexport function isActive(step) {\n  return step === STEP_ACTIVE || step === STEP_ACTIVATED;\n}\nexport default (function (status, callback) {\n  var _useState = useState(STEP_NONE),\n      _useState2 = _slicedToArray(_useState, 2),\n      step = _useState2[0],\n      setStep = _useState2[1];\n\n  var _useNextFrame = useNextFrame(),\n      _useNextFrame2 = _slicedToArray(_useNextFrame, 2),\n      nextFrame = _useNextFrame2[0],\n      cancelNextFrame = _useNextFrame2[1];\n\n  function startQueue() {\n    setStep(STEP_PREPARE, true);\n  }\n\n  useIsomorphicLayoutEffect(function () {\n    if (step !== STEP_NONE && step !== STEP_ACTIVATED) {\n      var index = STEP_QUEUE.indexOf(step);\n      var nextStep = STEP_QUEUE[index + 1];\n      var result = callback(step);\n\n      if (result === SkipStep) {\n        // Skip when no needed\n        setStep(nextStep, true);\n      } else {\n        // Do as frame for step update\n        nextFrame(function (info) {\n          function doNext() {\n            // Skip since current queue is ood\n            if (info.isCanceled()) return;\n            setStep(nextStep, true);\n          }\n\n          if (result === true) {\n            doNext();\n          } else {\n            // Only promise should be async\n            Promise.resolve(result).then(doNext);\n          }\n        });\n      }\n    }\n  }, [status, step]);\n  React.useEffect(function () {\n    return function () {\n      cancelNextFrame();\n    };\n  }, []);\n  return [startQueue, step];\n});"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,0CAA3B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,SAASC,YAAT,EAAuBC,WAAvB,EAAoCC,UAApC,EAAgDC,cAAhD,EAAgEC,SAAhE,QAAiF,cAAjF;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,yBAAP,MAAsC,6BAAtC;AACA,IAAIC,UAAU,GAAG,CAACP,YAAD,EAAeE,UAAf,EAA2BD,WAA3B,EAAwCE,cAAxC,CAAjB;AACA;;AAEA,OAAO,IAAIK,QAAQ,GAAG,KAAf;AACP;;AAEA,OAAO,IAAIC,MAAM,GAAG,IAAb;AACP,OAAO,SAASC,QAAT,CAAkBC,IAAlB,EAAwB;EAC7B,OAAOA,IAAI,KAAKV,WAAT,IAAwBU,IAAI,KAAKR,cAAxC;AACD;AACD,gBAAgB,UAAUS,MAAV,EAAkBC,QAAlB,EAA4B;EAC1C,IAAIC,SAAS,GAAGf,QAAQ,CAACK,SAAD,CAAxB;EAAA,IACIW,UAAU,GAAGlB,cAAc,CAACiB,SAAD,EAAY,CAAZ,CAD/B;EAAA,IAEIH,IAAI,GAAGI,UAAU,CAAC,CAAD,CAFrB;EAAA,IAGIC,OAAO,GAAGD,UAAU,CAAC,CAAD,CAHxB;;EAKA,IAAIE,aAAa,GAAGZ,YAAY,EAAhC;EAAA,IACIa,cAAc,GAAGrB,cAAc,CAACoB,aAAD,EAAgB,CAAhB,CADnC;EAAA,IAEIE,SAAS,GAAGD,cAAc,CAAC,CAAD,CAF9B;EAAA,IAGIE,eAAe,GAAGF,cAAc,CAAC,CAAD,CAHpC;;EAKA,SAASG,UAAT,GAAsB;IACpBL,OAAO,CAAChB,YAAD,EAAe,IAAf,CAAP;EACD;;EAEDM,yBAAyB,CAAC,YAAY;IACpC,IAAIK,IAAI,KAAKP,SAAT,IAAsBO,IAAI,KAAKR,cAAnC,EAAmD;MACjD,IAAImB,KAAK,GAAGf,UAAU,CAACgB,OAAX,CAAmBZ,IAAnB,CAAZ;MACA,IAAIa,QAAQ,GAAGjB,UAAU,CAACe,KAAK,GAAG,CAAT,CAAzB;MACA,IAAIG,MAAM,GAAGZ,QAAQ,CAACF,IAAD,CAArB;;MAEA,IAAIc,MAAM,KAAKjB,QAAf,EAAyB;QACvB;QACAQ,OAAO,CAACQ,QAAD,EAAW,IAAX,CAAP;MACD,CAHD,MAGO;QACL;QACAL,SAAS,CAAC,UAAUO,IAAV,EAAgB;UACxB,SAASC,MAAT,GAAkB;YAChB;YACA,IAAID,IAAI,CAACE,UAAL,EAAJ,EAAuB;YACvBZ,OAAO,CAACQ,QAAD,EAAW,IAAX,CAAP;UACD;;UAED,IAAIC,MAAM,KAAK,IAAf,EAAqB;YACnBE,MAAM;UACP,CAFD,MAEO;YACL;YACAE,OAAO,CAACC,OAAR,CAAgBL,MAAhB,EAAwBM,IAAxB,CAA6BJ,MAA7B;UACD;QACF,CAbQ,CAAT;MAcD;IACF;EACF,CA3BwB,EA2BtB,CAACf,MAAD,EAASD,IAAT,CA3BsB,CAAzB;EA4BAb,KAAK,CAACkC,SAAN,CAAgB,YAAY;IAC1B,OAAO,YAAY;MACjBZ,eAAe;IAChB,CAFD;EAGD,CAJD,EAIG,EAJH;EAKA,OAAO,CAACC,UAAD,EAAaV,IAAb,CAAP;AACD,CAjDD"},"metadata":{},"sourceType":"module"}